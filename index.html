<!doctype html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Linha do Tempo</title>
    <style>
        :root {
            --bg: #ffffff;
            --card: #180900;
            --accent: #ffffff;
            --muted: #ffffff;
            --glass: rgba(0, 0, 0, 0.03);
            --radius: 12px;
            --maxw: 1100px;
            color-scheme: dark;
            font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
        }

        * {
            box-sizing: border-box
        }

        input::placeholder {
            color: #ffffff;
        }



        body {
            margin: 0;
            background: linear-gradient(180deg, #3c291a 0%, #4a3526 100%);
            color: #ffffff;
            -webkit-font-smoothing: antialiased;
            padding: 32px;
            background: url('images/bg-textura.jpg') no-repeat center center fixed;
            background-size: cover;
        }

        .container {
            max-width: var(--maxw);
            margin: 0 auto
        }


        header {
            display: flex;
            gap: 12px;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 18px
        }

        h1 {
            font-size: 20px;
            margin: 0
        }

        .controls {
            display: flex;
            gap: 8px;
            align-items: center
        }

        input[type=text],
        select {
            background: #180900;
            border: 1px solid #180900;
            color: white;
            padding: 8px 10px;
            border-radius: 8px
        }

        button {
            background: var(--accent);
            border: none;
            color: #042027;
            padding: 8px 12px;
            border-radius: 10px;
            cursor: pointer
        }

        .timeline {
            position: relative;
            padding: 24px 12px;
            background: linear-gradient(180deg, rgba(0, 0, 0, 0.02));
            border-radius: 14px;
            border: 1px solid rgba(255, 255, 255, 0.03)
        }

        /* Vertical layout */
        .events {
            display: flex;
            flex-direction: column;
            gap: 18px
        }

        .event {
            display: grid;
            grid-template-columns: 70px 1fr;
            gap: 12px;
        }

        .event .dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: var(--accent);
            margin-top: 6px
        }

        .event .date {
            font-size: 12px;
            color: var(--muted);
            margin-bottom: 15px;
        }

        .card h3 {
            margin: 0 0 6px 0;
            font-size: 16px
        }

        .card p {
            margin: 0;
            color: var(--muted);
            font-size: 14px
        }

        .horizontal .events {
            display: flex;
            flex-direction: row;
            gap: 20px;
            overflow-x: auto;
            padding-bottom: 8px;
            width: 100%;
        }

        .horizontal .event {
            min-width: 300px;
            max-width: 300px;
            display: block;
        }

        .horizontal .event .card {
            height: 250px;
            overflow: hidden;
        }

        .horizontal .event .dot {
            margin-bottom: 1.5rem;
        }

        /* Modal */
        .modal {
            position: fixed;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.6);
            visibility: hidden;
            opacity: 0;
            transition: all .18s ease
        }

        .modal.open {
            visibility: visible;
            opacity: 1
        }

        .modal .inner {
            background: var(--card);
            padding: 18px;
            border-radius: 14px;
            width: min(880px, 94%);
            max-height: 86vh;
            overflow: auto;
            border: 1px solid rgba(255, 255, 255, 0.04)
        }

        .modal .close {
            float: right;
            background: transparent;
            border: 0;
            color: var(--muted);
            cursor: pointer
        }

        .empty {
            padding: 36px;
            text-align: center;
            color: var(--muted)
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 40px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: rgb(255, 255, 255);
        }

        .horizontal.timeline::before {
            left: 0;
            right: 0;
            top: 60px;
            bottom: auto;
            height: 2px;
            width: auto;
        }

        /* ================== FESTEJOS ================== */
        .festas {
            margin: 40px 0;
            padding: 20px;
            border-radius: 12px;
        }

        .festas h1 {
            text-align: center;
            margin-bottom: 25px;
            color: #ffffff;
            font-size: 2rem;
            font-weight: bold;
        }

        #festejos {
            display: flex;
            flex-direction: row;
            gap: 20px;
            overflow-x: auto;
            scroll-behavior: smooth;
            max-width: 100%;
            padding-bottom: 8px;
        }

        .festejo-card {
            background: #180900;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: transform 0.25s ease, box-shadow 0.25s ease;
        }

        .festejo-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        }

        .festejo-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            display: block;
        }

        .festejo-card div {
            padding: 10px;
        }

        .festejo-card h3 {
            margin: 0 0 8px;
            font-size: 1rem;
            color: #ffffff;
        }

        .festejo-card small {
            display: block;
            margin-bottom: 10px;
            color: #ffffff;
            font-size: 0.9rem;
        }

        .festejo-card p {
            font-size: 0.95rem;
            line-height: 1.4;
            color: #ffffff;
        }

        @media (max-width:700px) {
            header {
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
                align-items: center;
                text-align: center;
            }

            #festejos {
                display: flex;
                align-items: center;
                flex-direction: column;
                overflow-x: auto;
                scroll-snap-type: x mandatory;
                gap: 20px;
            }

            .festejo-card {
                min-width: 85vw;
                max-width: 85vw;
                scroll-snap-align: start;
                flex: 0 0 auto;
            }

            .festejo-card img {
                height: 130px;
            }

            .event {
                grid-template-columns: 56px 1fr;
                gap: 15px;
            }

            .controls {
                width: 100%;
                gap: 6px
            }


            #festejos {
                grid-template-columns: 1fr !important;
            }
        }

        /* ðŸ”¥ MOBILE PEQUENO - 0 a 399px */
        @media (max-width: 399px) {
            header {
                flex-direction: column;
                align-items: center;
                text-align: center;
                justify-content: center;
            }

            h1 {
                font-size: 18px;
            }

            .timeline{
                display: flex;
                align-items: center;
                text-align: center;
                justify-content: center;
                width: auto;
                border: none;
            }

            .timeline .dot {
                display: none;
                
            }

            .timeline::before {
                display: none;
            }

            .events {
                margin-right: 10rem;    
            }

            .event .date{
                min-width: 70px;
            }

            .card {
                flex-direction: column;
                width: 15rem;
                height: auto;
            }

            #festejos {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                gap: 20px;
            }

            .festejo-card {
                width: 95vw;
                max-width: 100%;
            }

            .festejo-card img {
                height: 120px;
            }

            .festejo-card div {
                padding: 12px;
                text-align: center;
            }

            .event {
                grid-template-columns: 50px 1fr;
                gap: 12px;
            }

            .controls {
                width: 100%;
                gap: 5px;
                justify-content: center;
                flex-direction: column;
            }

            input[type=text],
            select {
                width: 100%;
                max-width: 100%;
            }
        }

        /* ðŸ”¥ MOBILE MÃ‰DIO - 400 a 700px */
        @media (min-width: 400px) and (max-width: 700px) {
            body {
                padding: 25px 20px;
            }

            header {
                flex-direction: column;
                align-items: center;
                gap: 12px;
                text-align: center;
            }

            h1 {
                font-size: 20px;
            }

            #festejos {
                display: grid;
                grid-template-columns: 1fr;
                gap: 20px;
                justify-items: center;
            }

            .festejo-card {
                width: 90%;
                max-width: 380px;
            }

            .festejo-card img {
                height: 140px;
            }

            .festejo-card div {
                padding: 15px;
                text-align: center;
            }

            .event {
                grid-template-columns: 60px 1fr;
                gap: 15px;
            }

            .controls {
                width: 100%;
                gap: 8px;
                justify-content: center;
                flex-wrap: wrap;
            }

            input[type=text],
            select {
                width: 48%;
                min-width: 150px;
            }
        }

        .card {
            background-color: #180900;
            padding: 12px 14px;
            border-radius: 12px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            cursor: pointer;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .event img {
            width: 200px;
            height: 120px;
            object-fit: contain;
            background-color: #f0f0f0;
            border-radius: 6px;
            margin-bottom: 8px;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <div>
                <h1>LINHA DO TEMPO</h1>
            </div>

            <div class="controls">
                <input id="search" type="text" placeholder="Buscar (palavra, ano...)" />
                <select id="viewSelect" title="Modo de visualizaÃ§Ã£o">
                    <option value="vertical">Vertical</option>
                    <option value="horizontal">Horizontal</option>
                </select>
                <select id="yearFilter">
                    <option value="all">Todos os anos</option>
                </select>
            </div>
        </header>

        <main class="timeline" id="timeline">
            <div id="events" class="events"></div>
            <div id="empty" class="empty" style="display:none">Nenhum evento encontrado. Tente outra busca.</div>
        </main>
    </div>

    <!-- Modal de detalhes -->
    <div id="modal" class="modal" role="dialog" aria-hidden="true">
        <div class="inner">
            <button class="close" id="closeModal">Fechar âœ•</button>
            <div id="modalContent"></div>
        </div>
    </div>

    <div class="festas">
        <h1>ResistÃªncia em forma de festa</h1>
        <div id="festejos"></div>
    </div>


    <script>
        const events = [
            {
                img: 'images/capitaniashereditariasmapaatualizado-0-cke.jpg',
                date: '1534-01-01',
                title: 'Capitanias HereditÃ¡rias',
                subtitle: 'Sistema de doaÃ§Ã£o de terras pela Coroa Portuguesa a donatÃ¡rios, concentrando grandes extensÃµes de terra em poucas mÃ£os e criando desigualdade fundiÃ¡ria inicial',
                content: 'Iniciada em 1534, concentrou vastos territÃ³rios nas mÃ£os de poucos donatÃ¡rios, moldando a posse de terra no Brasil e estabelecendo um padrÃ£o de desigualdade fundiÃ¡ria que persiste atÃ© hoje.',
            },
            {
                date: '1549-01-01',
                title: 'ImplantaÃ§Ã£o do Governo-Geral',
                subtitle: 'CentralizaÃ§Ã£o do poder da Coroa sobre as capitanias, limitando autonomia dos donatÃ¡rios e fortalecendo a presenÃ§a administrativa portuguesa',
                content: 'O Governo-Geral reforÃ§ou o controle da Coroa sobre as capitanias e a distribuiÃ§Ã£o de terras, limitando a autonomia dos donatÃ¡rios.',
                img: 'images/D-JOAOIII.jpg'
            },

            {
                img: 'images/quilombo-palmares.jpg',
                date: '1597-01-01',
                title: 'ResistÃªncia e TerritÃ³rio: A FundaÃ§Ã£o de Palmares',
                subtitle: 'Surgimento do maior quilombo das AmÃ©ricas, sÃ­mbolo da resistÃªncia negra Ã  escravidÃ£o e da construÃ§Ã£o de territÃ³rios livres',
                content: 'Desde o final do sÃ©culo XVI, a formaÃ§Ã£o de quilombos como Palmares representou a mais potente forma de resistÃªncia Ã  escravidÃ£o. Esses territÃ³rios nÃ£o eram apenas refÃºgios, mas espaÃ§os de organizaÃ§Ã£o social, polÃ­tica e cultural, estabelecendo uma relaÃ§Ã£o ancestral com a terra baseada na coletividade e na liberdade, em direta oposiÃ§Ã£o ao modelo latifundiÃ¡rio e escravocrata que se impunha.',
            },

            {
                date: '1822-09-07',
                title: 'IndependÃªncia do Brasil',
                subtitle: 'Apesar de romper com Portugal, a independÃªncia manteve a concentraÃ§Ã£o de terras nas elites agrÃ¡rias, sem reforma agrÃ¡ria efetiva',
                content: 'Apesar da independÃªncia, manteve-se a estrutura agrÃ¡ria excludente, perpetuando privilÃ©gios das elites rurais.',
                img: 'images/independenciabrasil.jpg'
            },
            {
                date: '1824-03-25',
                title: 'ConstituiÃ§Ã£o de 1824',
                subtitle: 'Primeira ConstituiÃ§Ã£o brasileira, mantendo privilÃ©gios da elite agrÃ¡ria e sem previsÃ£o de redistribuiÃ§Ã£o de terras',
                content: 'Estabeleceu a Monarquia Constitucional, garantiu o direito de propriedade sem limites e reforÃ§ou a concentraÃ§Ã£o fundiÃ¡ria.',
                img: 'images/const-1824.jpg'
            },
            {
                img: 'images/lei-de-terras.jpg',
                date: '1850-09-18',
                title: 'Lei de Terras',
                subtitle: 'Estabelece que acesso Ã  terra sÃ³ seria possÃ­vel por compra, excluindo pobres, indÃ­genas, ex-escravizados e quilombolas, consolidando a concentraÃ§Ã£o fundiÃ¡ria',
                content: 'Em um momento de transiÃ§Ã£o para o fim do trÃ¡fico de escravizados, a Lei de Terras foi um mecanismo para impedir o acesso Ã  propriedade por negros libertos e quilombolas, garantindo que a terra continuasse a ser um privilÃ©gio da elite agrÃ¡ria. Para os quilombos existentes, a lei significou a negaÃ§Ã£o de sua existÃªncia legal e a intensificaÃ§Ã£o da perseguiÃ§Ã£o.',
            },
            {
                img: 'images/abolicao.jpg',
                date: '1888-05-13',
                title: 'AboliÃ§Ã£o da EscravidÃ£o',
                subtitle: 'LibertaÃ§Ã£o sem acesso Ã  terra, mantendo a desigualdade fundiÃ¡ria e empurrando a populaÃ§Ã£o negra para a marginalidade no campo e nas cidades',
                content: 'A aboliÃ§Ã£o nÃ£o foi acompanhada de nenhuma polÃ­tica de reforma agrÃ¡ria ou de reparaÃ§Ã£o. MilhÃµes de ex-escravizados ficaram sem acesso Ã  terra, ampliando a desigualdade fundiÃ¡ria. Para os quilombolas, a liberdade formal nÃ£o se traduziu em seguranÃ§a territorial, mantendo suas comunidades sob a ameaÃ§a constante de expulsÃ£o.',
            },
            {
                date: '1891-02-24',
                title: 'ConstituiÃ§Ã£o de 1891',
                subtitle: 'Primeira ConstituiÃ§Ã£o republicana, reforÃ§ando a propriedade privada sem limites sociais',
                content: 'Instituiu a RepÃºblica e manteve a concentraÃ§Ã£o fundiÃ¡ria ao garantir amplamente o direito de propriedade, sem preocupaÃ§Ã£o com funÃ§Ã£o social.',
                img: 'images/const-1891.jpg'
            },
            {
                date: '1934-07-16',
                title: 'ConstituiÃ§Ã£o de 1934',
                subtitle: 'Primeira ConstituiÃ§Ã£o a mencionar a funÃ§Ã£o social da propriedade, ainda de forma limitada, sem mecanismos de aplicaÃ§Ã£o efetiva',
                content: 'Essa ConstituiÃ§Ã£o inovou ao introduzir o conceito de funÃ§Ã£o social da propriedade, mas sem instrumentos eficazes de aplicaÃ§Ã£o.',
                img: 'images/const-1934.jpg'
            },
            {
                date: '1937-11-10',
                title: 'ConstituiÃ§Ã£o de 1937',
                subtitle: 'ConcentraÃ§Ã£o de poder no Executivo durante o Estado Novo, sem avanÃ§os sociais quanto Ã  reforma agrÃ¡ria',
                content: 'A Carta de 1937 reforÃ§ou o poder estatal e ignorou avanÃ§os sociais, mantendo privilÃ©gios fundiÃ¡rios.',
                img: 'images/const-1937.jpg'
            },
            {
                date: '1945-01-01',
                title: 'ColonizaÃ§Ã£o agrÃ­cola',
                subtitle: 'Projetos de incentivo Ã  ocupaÃ§Ã£o agrÃ­cola no Sul e interior do Brasil, muitas vezes em Ã¡reas indÃ­genas, gerando conflitos e deslocamentos populacionais',
                content: 'PolÃ­ticas pÃºblicas incentivaram a colonizaÃ§Ã£o em Ã¡reas indÃ­genas, reforÃ§ando conflitos e deslocamentos populacionais.',
                img: 'images/colonizacao-agricola-plantation.jpg'
            },
            {
                date: '1946-09-18',
                title: 'ConstituiÃ§Ã£o de 1946',
                subtitle: 'ReforÃ§ou a ideia de funÃ§Ã£o social da propriedade, mas sem instrumentos eficazes de reforma agrÃ¡ria',
                content: 'ApÃ³s a ditadura do Estado Novo, a ConstituiÃ§Ã£o de 1946 reafirmou direitos civis e a funÃ§Ã£o social da propriedade, mas nÃ£o implementou medidas concretas.',
                img: 'images/const-1946.jpg'
            },
            {
                date: '1964-11-30',
                title: 'Estatuto da Terra',
                subtitle: 'Base legal para a reforma agrÃ¡ria, prevendo funÃ§Ã£o social da terra, mas com aplicaÃ§Ã£o limitada pelo regime militar',
                content: 'PrevÃª a funÃ§Ã£o social da terra e a reforma agrÃ¡ria, mas teve aplicaÃ§Ã£o limitada, servindo mais como instrumento polÃ­tico do regime.',
                img: 'images/estatuto-da-terra.jpg'
            },
            {
                date: '1967-01-24',
                title: 'ConstituiÃ§Ã£o de 1967',
                subtitle: 'Institucionalizou o regime militar, com forte centralizaÃ§Ã£o do poder e sem avanÃ§os para reforma agrÃ¡ria',
                content: 'ReforÃ§ou o direito absoluto Ã  propriedade privada e enfraqueceu qualquer possibilidade de reforma agrÃ¡ria efetiva.',
                img: 'images/const-1967.jpg'
            },
            {
                date: '1969-10-17',
                title: 'Emenda Constitucional nÂº 1/1969',
                subtitle: 'Na prÃ¡tica funcionou como uma nova constituiÃ§Ã£o, aprofundando a concentraÃ§Ã£o de poder dos militares',
                content: 'Consolidou o autoritarismo, restringindo direitos civis e ignorando demandas sociais como a redistribuiÃ§Ã£o de terras.',
                img: 'images/const-1969.jpg'
            },
            {
                date: '1970-01-01',
                title: 'Programa de IntegraÃ§Ã£o Nacional (PIN)',
                subtitle: 'ColonizaÃ§Ã£o da AmazÃ´nia com incentivo a grandes proprietÃ¡rios e empresas, gerando conflitos territoriais e impactos ambientais',
                content: 'Favoreceu grandes proprietÃ¡rios e empresas, gerando intensos conflitos territoriais e impactos ambientais.',
                img: 'images/programa-integracao-nacional.jpg'
            },
            {
                date: '1984-01-01',
                title: 'FundaÃ§Ã£o do MST',
                subtitle: 'CriaÃ§Ã£o do Movimento dos Trabalhadores Rurais Sem Terra, lutando pela reforma agrÃ¡ria e pelo acesso Ã  terra',
                content: 'O MST passou a protagonizar ocupaÃ§Ãµes e lutas pela reforma agrÃ¡ria, denunciando a concentraÃ§Ã£o fundiÃ¡ria e exigindo justiÃ§a social.',
                img: 'images/fundacao-mst.jpg'
            },
            {
                date: '1985-01-01',
                title: 'CriaÃ§Ã£o do INCRA',
                subtitle: 'Instituto Nacional de ColonizaÃ§Ã£o e Reforma AgrÃ¡ria, responsÃ¡vel pela execuÃ§Ã£o da reforma agrÃ¡ria e administraÃ§Ã£o de terras pÃºblicas',
                content: 'Ã“rgÃ£o responsÃ¡vel por administrar terras pÃºblicas e implementar a reforma agrÃ¡ria, central nas polÃ­ticas fundiÃ¡rias.',
                img: 'images/incra-logo.jpg'
            },
            {
                date: '1988-10-05',
                title: 'ConstituiÃ§Ã£o de 1988',
                subtitle: 'ConsolidaÃ§Ã£o da funÃ§Ã£o social da propriedade, assegurando direitos territoriais a indÃ­genas, quilombolas e assentamentos rurais',
                content: 'Assegura direitos territoriais e consolida o princÃ­pio da funÃ§Ã£o social da propriedade, incluindo direitos de indÃ­genas e quilombolas.',
                img: 'images/constituicao-88.jpg'
            },
            {
                date: '1996-04-17',
                title: 'Massacre de Eldorado dos CarajÃ¡s',
                subtitle: 'ViolÃªncia contra trabalhadores sem-terra, sÃ­mbolo da criminalizaÃ§Ã£o das lutas sociais por terra',
                content: 'SÃ­mbolo da criminalizaÃ§Ã£o das lutas sociais por terra, 19 trabalhadores sem-terra foram assassinados pela polÃ­cia no ParÃ¡.',
                img: 'images/Eldorado-massacre.jpg'
            },
            {
                date: '2003-01-01',
                title: 'CriaÃ§Ã£o do MDA',
                subtitle: 'MinistÃ©rio do Desenvolvimento AgrÃ¡rio, fortalecendo a agricultura familiar e assentamentos rurais',
                content: 'Formulou polÃ­ticas voltadas para pequenos agricultores, assentamentos e comunidades tradicionais.',
                img: 'images/mda.jpg'
            },
            {
                date: '2010-01-01',
                title: 'DemarcaÃ§Ãµes de terras',
                subtitle: 'AvanÃ§os no reconhecimento de territÃ³rios indÃ­genas e quilombolas, consolidando direitos de povos tradicionais',
                content: 'O perÃ­odo foi marcado por demarcaÃ§Ãµes importantes e pela consolidaÃ§Ã£o de direitos de povos tradicionais.',
                img: 'images/demarcacao-terra.jpg'
            },
            {
                date: '2017-01-01',
                title: 'Retrocessos nas demarcaÃ§Ãµes',
                subtitle: 'Disputas judiciais e polÃ­ticas contra terras indÃ­genas e quilombolas, ameaÃ§ando direitos conquistados',
                content: 'O STF e o Congresso passaram a ser palco de disputas que ameaÃ§am os direitos conquistados pelos povos tradicionais.',
                img: 'images/retrocesso-demarcacoes.jpg'
            },
            {
                date: '2020-01-01',
                title: 'Conflitos e agronegÃ³cio',
                subtitle: 'AscensÃ£o do agronegÃ³cio domina a agenda polÃ­tica e econÃ´mica, gerando disputas fundiÃ¡rias e ambientais',
                content: 'O agronegÃ³cio domina a agenda polÃ­tica e econÃ´mica, enquanto crescem os conflitos fundiÃ¡rios e ambientais.',
                img: 'images/gestao-de-conflitos-Agronegocio.jpg'
            },
            {
                date: '2021-05-01',
                title: 'Conflitos em terras indÃ­genas',
                subtitle: 'Aumento de invasÃµes de grileiros e madeireiros ilegais, intensificando disputas territoriais',
                content: 'O avanÃ§o de grileiros e madeireiros ilegais intensificou disputas em territÃ³rios indÃ­genas.',
                img: 'images/conflitos-em-terras-indigenas.jpg'
            },
            {
                date: '2022-08-01',
                title: 'Debates sobre reforma agrÃ¡ria',
                subtitle: 'PressÃ£o contÃ­nua de movimentos sociais, como MST, por polÃ­ticas de redistribuiÃ§Ã£o de terra, apesar de resistÃªncias polÃ­ticas',
                content: 'O MST e organizaÃ§Ãµes sociais mantÃªm pressÃ£o por polÃ­ticas de redistribuiÃ§Ã£o de terra, apesar de resistÃªncias polÃ­ticas.',
                img: 'images/reforma-agraria.jpg'
            },
            {
                date: '2023-03-01',
                title: 'Conflitos no Cerrado e AmazÃ´nia',
                subtitle: 'ExpansÃ£o do agronegÃ³cio gera conflitos fundiÃ¡rios e impactos socioambientais significativos nas regiÃµes AmazÃ´nica e do Cerrado',
                content: 'O avanÃ§o do agronegÃ³cio continua gerando conflitos fundiÃ¡rios e impactos socioambientais significativos.',
                img: 'images/Agro-e-fogo.jpg'
            },
            {
                img: 'images/stf-marco-temporal.jpg',
                date: '2023-09-21',
                title: 'STF Rejeita o Marco Temporal',
                subtitle: 'Supremo Tribunal Federal decide, por 9 votos a 2, que a tese do Marco Temporal para demarcaÃ§Ã£o de terras indÃ­genas Ã© inconstitucional',
                content: 'Em uma decisÃ£o histÃ³rica para os povos originÃ¡rios, o STF derruba a tese que restringia o direito Ã  terra apenas Ã s Ã¡reas ocupadas na data da promulgaÃ§Ã£o da ConstituiÃ§Ã£o de 1988. Embora focada na questÃ£o indÃ­gena, a decisÃ£o fortaleceu a luta de outros povos tradicionais, como os quilombolas, contra teses restritivas de direitos.',
            },
            {
                img: 'images/congresso-marco-temporal.jpg',
                date: '2023-12-14',
                title: 'Congresso Derruba Veto e ImpÃµe o Marco Temporal',
                subtitle: 'Em afronta Ã  decisÃ£o do STF, o Congresso Nacional derruba o veto presidencial e promulga a Lei 14.701, que estabelece o Marco Temporal',
                content: 'A disputa de poder entre JudiciÃ¡rio e Legislativo gera um cenÃ¡rio de grande inseguranÃ§a jurÃ­dica para as demarcaÃ§Ãµes. A lei aprovada nÃ£o apenas contraria o STF, mas tambÃ©m abre portas para a revisÃ£o de terras jÃ¡ demarcadas, intensificando os conflitos e ameaÃ§ando territÃ³rios indÃ­genas e quilombolas.',
            },
            {
                img: 'images/cpt-conflitos-2023.jpg',
                date: '2024-04-22',
                title: 'Recorde de Conflitos no Campo em 2023',
                subtitle: 'ComissÃ£o Pastoral da Terra (CPT) divulga relatÃ³rio anual apontando o maior nÃºmero de conflitos no campo desde 1985',
                content: 'O relatÃ³rio de 2023 da CPT revela um total de 2.203 conflitos, afetando mais de 950 mil pessoas. A violÃªncia, a grilagem e as disputas por terra, impulsionadas pela expansÃ£o do agronegÃ³cio e pela inseguranÃ§a jurÃ­dica, atingem violentamente indÃ­genas, quilombolas e sem-terra.',
            },
            {
                img: 'images/terra-da-gente.jpg',
                date: '2024-04-15',
                title: 'LanÃ§amento do Programa Terra da Gente',
                subtitle: 'Governo Federal anuncia novo programa para acelerar a Reforma AgrÃ¡ria, com o objetivo de assentar 295 mil famÃ­lias atÃ© 2026',
                content: 'Com a criaÃ§Ã£o de "prateleiras de terras" disponÃ­veis (terras pÃºblicas, de bancos, de devedores da UniÃ£o, etc.), o governo busca diversificar as formas de obtenÃ§Ã£o de Ã¡reas para a reforma agrÃ¡ria. O programa visa atender a uma demanda histÃ³rica de movimentos sociais e inclui a regularizaÃ§Ã£o de territÃ³rios quilombolas.',
            },
            {
                img: 'images/titulacao-quilombola.jpg',
                date: '2024-12-26',
                title: 'AvanÃ§o na TitulaÃ§Ã£o de Terras Quilombolas',
                subtitle: 'Governo Federal encerra o ano com um nÃºmero recorde de decretos de regularizaÃ§Ã£o de territÃ³rios quilombolas, mas o desafio da titulaÃ§Ã£o definitiva permanece',
                content: 'Ao longo de 2024, o governo assinou 31 decretos que beneficiam milhares de famÃ­lias quilombolas em todo o paÃ­s. Apesar de representar um avanÃ§o significativo apÃ³s anos de paralisia, o nÃºmero de territÃ³rios titulados ainda Ã© Ã­nfimo perto da demanda total, e as comunidades seguem enfrentando a lentidÃ£o do processo e a violÃªncia em seus territÃ³rios.',
            },
            {
                img: 'images/violencia-campo-2025.jpg',
                date: '2025-01-01',
                title: 'PersistÃªncia da ViolÃªncia e Disputas Territoriais',
                subtitle: 'O ano se inicia com a continuidade das tensÃµes no campo, com a bancada ruralista pressionando por retrocessos na legislaÃ§Ã£o ambiental e fundiÃ¡ria',
                content: 'O cenÃ¡rio para o futuro prÃ³ximo permanece desafiador. A luta pela terra no Brasil continua sendo um embate entre diferentes visÃµes de mundo: de um lado, o agronegÃ³cio e a concentraÃ§Ã£o de poder; de outro, os movimentos sociais, indÃ­genas e quilombolas, que defendem a reforma agrÃ¡ria, a justiÃ§a social e a preservaÃ§Ã£o ambiental como caminhos para um paÃ­s mais justo.',
            }
        ];

        // UtilitÃ¡rios
        const $ = sel => document.querySelector(sel);
        const $$ = sel => Array.from(document.querySelectorAll(sel));

        const eventsEl = $('#events');
        const timeline = $('#timeline');
        const yearFilter = $('#yearFilter');
        const search = $('#search');
        const viewSelect = $('#viewSelect');
        const modal = $('#modal');
        const modalContent = $('#modalContent');
        const empty = $('#empty');
        const festejosEl = $('#festejos');

        function parseYear(d) { try { return new Date(d).getFullYear(); } catch (e) { return '----' } }

        function buildYearOptions() {
            const years = Array.from(new Set(events.map(e => parseYear(e.date)))).sort((a, b) => b - a);
            yearFilter.innerHTML = '<option value="all">Todos os anos</option>' + years.map(y => `<option value="${y}">${y}</option>`).join('');
        }

        function render(filtered) {
            eventsEl.innerHTML = '';
            if (filtered.length === 0) {
                empty.style.display = 'block';
                return;
            } else {
                empty.style.display = 'none';
            }

            // Verifica se estÃ¡ no modo horizontal
            const isHorizontal = timeline.classList.contains('horizontal');

            filtered.forEach(ev => {
                const el = document.createElement('div');
                el.className = 'event';

                const dot = document.createElement('div');
                dot.className = 'dot';

                const colDate = document.createElement('div');
                colDate.className = 'date';
                colDate.textContent = ev.date;

                const card = document.createElement('div');
                card.className = 'card';

                // ConteÃºdo do card
                card.innerHTML = `
            <h3>${ev.title}</h3>
            <div style="font-size:13px;color:var(--muted)">${ev.subtitle || ''}</div>
            <p style="margin-top:8px">${ev.content}</p>
        `;

                card.addEventListener('click', () => {
                    modalContent.innerHTML = `<h2 style='margin-top:0'>${ev.title}</h2>
    <small style='color:var(--muted)'>${ev.date} â€” ${ev.subtitle || ''}</small>
    ${ev.img ? `<img src="${ev.img}" style="width:100%; max-height:300px; object-fit:contain; margin-top:12px; border-radius:6px;">` : ''}
    <div style='margin-top:12px;color:var(--muted)'>${ev.content}</div>`;
                    modal.classList.add('open');
                    modal.setAttribute('aria-hidden', 'false');
                });

                el.appendChild(dot);
                const right = document.createElement('div');
                right.appendChild(colDate);
                right.appendChild(card);
                el.appendChild(right);

                eventsEl.appendChild(el);
            });

            // Habilita scroll horizontal
            if (isHorizontal) {
                enableHorizontalScroll(eventsEl);
            }
        }


        function applyFilters() {
            const q = search.value.trim().toLowerCase();
            const year = yearFilter.value;
            let filtered = events.slice();
            if (year !== 'all') filtered = filtered.filter(e => parseYear(e.date).toString() === year);
            if (q) filtered = filtered.filter(e => (e.title + ' ' + (e.subtitle || '') + ' ' + e.content + ' ' + e.date).toLowerCase().includes(q));
            render(filtered.sort((a, b) => new Date(a.date) - new Date(b.date)));
        }

        function filterFestejos() {
            const q = search.value.trim().toLowerCase();
            let filtered = festejos.slice();

            if (q) {
                filtered = filtered.filter(f =>
                    (f.title + ' ' + (f.subtitle || '') + ' ' + f.content + ' ' + f.date)
                        .toLowerCase()
                        .includes(q)
                );
            }

            festejosEl.innerHTML = '';
            if (filtered.length === 0) {
                festejosEl.innerHTML = '<p style="color:white">Nenhum festejo encontrado.</p>';
                return;
            }

            filtered.forEach(ev => {
                const card = document.createElement('div');
                card.className = 'festejo-card';
                card.innerHTML = `
            <img src="${ev.img}" alt="${ev.title}">
            <div>
                <h3>${ev.title}</h3>
                <small>${ev.date} â€“ ${ev.subtitle || ''}</small>
                <p>${ev.content}</p>
            </div>
        `;
                festejosEl.appendChild(card);
            });
        }

        function renderFestejos(filtered) {
            festejosEl.innerHTML = '';
            if (filtered.length === 0) {
                festejosEl.innerHTML = '<p style="color:white">Nenhum festejo encontrado.</p>';
                return;
            }

            filtered.forEach(ev => {
                const card = document.createElement('div');
                card.className = 'festejo-card';
                card.innerHTML = `
            <img src="${ev.img}" alt="${ev.title}">
            <div>
                <h3>${ev.title}</h3>
                <small>${ev.date} â€“ ${ev.subtitle}</small>
                <p>${ev.content}</p>
            </div>
        `;
                festejosEl.appendChild(card);
            });
        }

        // controles
        search.addEventListener('input', () => {
            applyFilters();     // filtra eventos
            filterFestejos();   // filtra festejos
        });

        yearFilter.addEventListener('change', () => {
            applyFilters();     // sÃ³ eventos tÃªm filtro por ano
        });;

        viewSelect.addEventListener('change', () => {
            const horizontal = viewSelect.value === 'horizontal';

            // Timeline
            if (horizontal) timeline.classList.add('horizontal');
            else timeline.classList.remove('horizontal');

            applyFilters();
            // Festejos
            renderFestejos(horizontal);
        });

        // modal
        $('#closeModal').addEventListener('click', () => { modal.classList.remove('open'); modal.setAttribute('aria-hidden', 'true'); });
        modal.addEventListener('click', (e) => { if (e.target === modal) { modal.classList.remove('open'); modal.setAttribute('aria-hidden', 'true'); } });

        // inicializaÃ§Ã£o
        buildYearOptions(); applyFilters();

        // funÃ§Ã£o utilitÃ¡ria para inserir novos eventos dinamicamente (Ãºtil se quiser rodar via console)
        window.addEvent = function (ev) { events.push(ev); buildYearOptions(); applyFilters(); }

        // ================= Festejos =================
        const festejos = [
            {
                img: 'images/acampamento-terra-livre.jpg',
                date: '2025-04-01', // Representa o mÃªs de Abril
                title: 'Acampamento Terra Livre (ATL)',
                subtitle: 'A maior manifestaÃ§Ã£o polÃ­tica indÃ­gena, unindo celebraÃ§Ã£o e luta em BrasÃ­lia.',
                content: 'Realizado anualmente em abril, o ATL nÃ£o Ã© uma festa tradicional, mas a maior mobilizaÃ§Ã£o indÃ­gena do Brasil. Milhares de pessoas de centenas de etnias se reÃºnem em BrasÃ­lia para lutar por seus direitos, principalmente a demarcaÃ§Ã£o de terras. O acampamento Ã© um espaÃ§o de luta, mas tambÃ©m de intensa celebraÃ§Ã£o cultural, com cantos e rituais realizados em frente ao Congresso Nacional, sendo a resistÃªncia em sua forma mais explÃ­cita.',
            },
            {
                img: 'images/bembe-do-mercado.jpg',
                date: '2025-05-13', // Ocorre em Maio, prÃ³ximo ao dia 13
                title: 'BembÃ© do Mercado',
                subtitle: 'O maior CandomblÃ© de rua do mundo, um ato de afirmaÃ§Ã£o da liberdade e da fÃ© afro-brasileira.',
                content: 'Nascido em 1889 em Santo Amaro (BA), um ano apÃ³s a aboliÃ§Ã£o, o BembÃ© celebra a liberdade e a coragem de afirmar a fÃ© de matriz africana em pÃºblico. Em uma Ã©poca de intensa perseguiÃ§Ã£o, realizar um XirÃª (roda de louvaÃ§Ã£o aos orixÃ¡s) na rua foi uma afronta ao sistema opressor. CelebrÃ¡-lo hoje Ã© manter viva a chama da resistÃªncia pelo direito de existir e cultuar os ancestrais.',
            },
            {
                img:
                    'images/jongo-sudeste2.jpg',
                date: '2025-06-24', // Representa as festas juninas, uma data forte para o Jongo
                title: 'CelebraÃ§Ãµes do Jongo',
                subtitle: 'A resistÃªncia da "avÃ³ do samba", mantendo viva a comunicaÃ§Ã£o codificada dos escravizados.',
                content: 'O Jongo Ã© uma danÃ§a ancestral praticada em quilombos do Sudeste, especialmente no Vale do ParaÃ­ba (RJ/SP). Suas letras, cheias de metÃ¡foras, eram usadas pelos escravizados para se comunicarem sem o entendimento dos senhores. DanÃ§ar o Jongo hoje Ã© celebrar a inteligÃªncia que driblou a vigilÃ¢ncia e garantiu a sobrevivÃªncia cultural de um povo.',
            },
            {
                img: 'images/encontro-culturas-chapada.jpg',
                date: '2025-07-15', // Ocorre na segunda quinzena de Julho
                title: 'Encontro de Culturas Tradicionais da Chapada dos Veadeiros',
                subtitle: 'A uniÃ£o de povos, liderada pelo Quilombo Kalunga, como plataforma de afirmaÃ§Ã£o polÃ­tica.',
                content: 'Este festival em GoiÃ¡s Ã© um poderoso ponto de encontro que tem como anfitriÃ£o o Quilombo Kalunga, o maior do Brasil. Para os Kalungas, descendentes de pessoas que fugiram da escravidÃ£o e viveram isolados por sÃ©culos, o evento Ã© uma forma de mostrar ao mundo a forÃ§a de sua cultura, sua histÃ³ria de refÃºgio e lutar pela proteÃ§Ã£o de seu territÃ³rio.',
            },
            {
                img: 'images/kuarup-xingu.jpg',
                date: '2025-08-01', // Ocorre entre Julho e Agosto
                title: 'Kuarup',
                subtitle: 'O grande ritual do Xingu que celebra a vida, a memÃ³ria e a resiliÃªncia cultural em honra aos mortos.',
                content: 'Realizado no Parque IndÃ­gena do Xingu (MT), o Kuarup Ã© um complexo ritual funerÃ¡rio que se torna a celebraÃ§Ã£o mÃ¡xima da vida. Ao honrar seus mortos, os povos do Alto Xingu reafirmam seus laÃ§os, cosmologias e a transmissÃ£o da memÃ³ria. Em um contexto de luto constante, o Kuarup Ã© uma demonstraÃ§Ã£o de forÃ§a e resiliÃªncia, afirmando que sua cultura segue viva.',
            },
            {
                img: 'images/congado-minas-gerais.jpg',
                date: '2025-10-01', // Ocorre em Outubro
                title: 'Festa de N. S. do RosÃ¡rio e Congado',
                subtitle: 'A celebraÃ§Ã£o da realeza africana e da organizaÃ§Ã£o negra atravÃ©s do sincretismo religioso.',
                content: 'As Irmandades de Nossa Senhora do RosÃ¡rio dos Homens Pretos eram espaÃ§os de organizaÃ§Ã£o e ajuda mÃºtua para os negros escravizados. AtravÃ©s do Congado, que recria a coroaÃ§Ã£o de um Rei do Congo, eles mantiveram vivas suas tradiÃ§Ãµes e memÃ³rias da realeza africana. A festa, forte em Minas Gerais, Ã© a celebraÃ§Ã£o da nobreza e organizaÃ§Ã£o polÃ­tica negra que resistiu.',
            },
            {
                img: 'images/jogos-povos-indigenas.jpg',
                date: '2025-11-01', // As datas sÃ£o variÃ¡veis, aqui representando o segundo semestre
                title: 'Jogos dos Povos IndÃ­genas',
                subtitle: 'A celebraÃ§Ã£o do orgulho, da diversidade e das habilidades tradicionais contra o apagamento cultural.',
                content: 'Com ediÃ§Ãµes em locais variados, os Jogos sÃ£o uma grande celebraÃ§Ã£o da identidade indÃ­gena. PrÃ¡ticas como arco e flecha, zarabatana e corrida de tora sÃ£o a celebraÃ§Ã£o de habilidades essenciais Ã  vida na floresta. O evento promove a uniÃ£o entre etnias e combate o preconceito, mostrando ao Brasil a forÃ§a de suas culturas. As datas e locais mudam a cada ediÃ§Ã£o.',
            },
        ];

        const festejosContainer = document.getElementById('festejos');

        function renderFestejos(horizontal = false) {
            festejosContainer.innerHTML = ''; // limpa o container
            festejos.forEach(ev => {
                const card = document.createElement('div');
                card.className = 'festejo-card';
                card.innerHTML = `
            <img src="${ev.img}" alt="${ev.title}">
            <div>
              <h3>${ev.title}</h3>
              <small>${ev.date} â€“ ${ev.subtitle}</small>
              <p>${ev.content}</p>
            </div>
        `;
                festejosContainer.appendChild(card);
            });

            // Aplica layout    
            if (horizontal) {
                festejosContainer.style.display = 'flex';
                festejosContainer.style.flexDirection = 'row';
                festejosContainer.style.overflowX = 'auto';
                festejosContainer.style.gap = '20px';

                enableHorizontalScroll(festejosContainer);

                // Define largura fixa dos cards
                festejosContainer.querySelectorAll('.festejo-card').forEach(card => {
                    card.style.flex = '0 0 400px';
                });
            } else {
                festejosContainer.style.display = 'grid';
                festejosContainer.style.gridTemplateColumns = 'repeat(2, 1fr)';
                festejosContainer.style.gap = '15px';
                festejosContainer.style.overflowX = 'visible';

                // Reset para nÃ£o afetar a versÃ£o vertical
                festejosContainer.querySelectorAll('.festejo-card').forEach(card => {
                    card.style.flex = '';
                    card.style.maxWidth = '';
                });
            }
        }

        // Inicializa vertical por padrÃ£o
        renderFestejos(false);

        // FunÃ§Ã£o para rolagem horizontal com scroll do mouse
        function enableHorizontalScroll(element) {
            element.addEventListener('wheel', (e) => {
                // Previne o scroll vertical padrÃ£o
                e.preventDefault();

                // Rola horizontalmente baseado no deltaY (scroll vertical)
                element.scrollLeft += e.deltaY * 2; // Ajuste a velocidade aqui
            }, { passive: false });
        }
    </script>
</body>

</html>